// =========================================================================
// LÓGICA: ABA 3 (RELATÓRIO SEMANAL)
// =========================================================================

function populateProfessoresGrade() {
    const select = document.getElementById('selectProfSemanal');
    if (!select) return;

    const listaProfessores = new Set();
    for (const tId in processedData) {
        for (const dId in processedData[tId].disciplines) {
            for (const pId in processedData[tId].disciplines[dId].professors) {
                let nome = processedData[tId].disciplines[dId].professors[pId].name;
                if (nome) listaProfessores.add(nome.replace(/\(.*\)/g, '').trim());
            }
        }
    }

    select.innerHTML = '<option value="">-- Selecione o Professor --</option>';
    Array.from(listaProfessores).sort().forEach(prof => {
        const opt = document.createElement('option');
        opt.value = opt.textContent = prof;
        select.appendChild(opt);
    });
}

window.gerarGradeSemanal = function() {
    const prof = document.getElementById('selectProfSemanal').value;
    const semanaValue = document.getElementById('inputSemana').value;
    const resultArea = document.getElementById('gradeSemanalResult');

    if (!prof || !semanaValue) {
        alert("Selecione Professor e Semana!");
        return;
    }

    // Lógica de Renderização da Tabela (Seu código de listaHorarios.forEach...)
    // ... (Mantenha o resto da sua função gerarGradeSemanal aqui)
    console.log("Gerando grade para:", prof);
};
